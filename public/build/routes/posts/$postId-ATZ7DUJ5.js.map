{
  "version": 3,
  "sources": ["../../../../app/routes/posts/$postId.jsx"],
  "sourcesContent": ["import { redirect } from \"@remix-run/node\";\r\nimport {Link, useLoaderData} from \"@remix-run/react\";\r\nimport { db } from \"~/utils/db.server\";\r\n\r\nexport const loader = async ({params}) => {\r\n  const post = await db.post.findUnique({\r\n    where: { id: params.postId }\r\n  })\r\n\r\n  if (!post) throw new Error(\"Post not found\")\r\n\r\n  const data = {post}\r\n  return data\r\n}\r\n\r\nexport const action = async ({request, params}) => {\r\n  const form = await request.formData()\r\n  if (form.get('_method') === 'delete'){\r\n    const post = await db.post.findUnique({\r\n      where: { id: params.postId }\r\n    })\r\n    if (!post) throw new Error(\"Post not found\")\r\n\r\n    await db.post.delete({ where: {id: params.postId}})\r\n    return redirect('/posts')\r\n  }\r\n}\r\n\r\nfunction Post() {\r\n  const {post} = useLoaderData()\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"page-header\">\r\n        <h1>{post.title}</h1>\r\n        <Link to='/posts' className=\"btn btn-reserve\">\r\n          Back\r\n        </Link>\r\n\r\n      </div>\r\n      <div className=\"page-content\">\r\n        {post.body}\r\n      </div>\r\n      <div className=\"page-footer\">\r\n        <form method=\"POST\">\r\n          <input type=\"hidden\" name=\"_method\" value=\"delete\" />\r\n          <button className=\"btn btn-delete\">Delete</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Post"],
  "mappings": ";;;;;;;;;;;;;;AACA;AACA,gBAAmB;AAFnB;AA4BA,SAAS,OAAO;AACd,QAAM,EAAC,KAAI,IAAI,cAAc;AAE7B,SACE,mDAAC;AAAA,IACC;AAAA,yDAAC;AAAA,QAAI,WAAU;AAAA,QACb;AAAA,6DAAC;AAAA,YAAI,eAAK;AAAA,aAAV;AAAA;AAAA;AAAA;AAAA,iBAAgB;AAAA,UAChB,mDAAC;AAAA,YAAK,IAAG;AAAA,YAAS,WAAU;AAAA,YAAkB;AAAA,aAA9C;AAAA;AAAA;AAAA;AAAA,iBAEA;AAAA;AAAA,SAJF;AAAA;AAAA;AAAA;AAAA,aAMA;AAAA,MACA,mDAAC;AAAA,QAAI,WAAU;AAAA,QACZ,eAAK;AAAA,SADR;AAAA;AAAA;AAAA;AAAA,aAEA;AAAA,MACA,mDAAC;AAAA,QAAI,WAAU;AAAA,QACb,6DAAC;AAAA,UAAK,QAAO;AAAA,UACX;AAAA,+DAAC;AAAA,cAAM,MAAK;AAAA,cAAS,MAAK;AAAA,cAAU,OAAM;AAAA,eAA1C;AAAA;AAAA;AAAA;AAAA,mBAAmD;AAAA,YACnD,mDAAC;AAAA,cAAO,WAAU;AAAA,cAAiB;AAAA,eAAnC;AAAA;AAAA;AAAA;AAAA,mBAAyC;AAAA;AAAA,WAF3C;AAAA;AAAA;AAAA;AAAA,eAGA;AAAA,SAJF;AAAA;AAAA;AAAA;AAAA,aAKA;AAAA;AAAA,KAhBF;AAAA;AAAA;AAAA;AAAA,SAiBA;AAEJ;AAEA,IAAO,iBAAQ;",
  "names": []
}
